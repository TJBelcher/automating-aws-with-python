# coding: utf-8
event = '{'Records': [{'EventSource': 'aws:sns', 'EventVersion': '1.0', 'EventSubscriptionArn': 'arn:aws:sns:us-east-1:206799381603:handleLabelDetectionTopic:baebab87-7c59-4558-8346-bc5e1b197f91', 'Sns': {'Type': 'Notification', 'MessageId': 'c7a2f4c0-accd-5e71-a2ec-a213ef21ce0d', 'TopicArn': 'arn:aws:sns:us-east-1:206799381603:handleLabelDetectionTopic', 'Subject': None, 'Message': '{"JobId":"db096f420b19d2919dc08aa9aed2bc90f6951eb8f4422727732ad79bfc57610a","Status":"SUCCEEDED","API":"StartLabelDetection","Timestamp":1582907820733,"Video":{"S3ObjectName":"vanvideo.mp4","S3Bucket":"tomvideolyzervideos57"}}', 'Timestamp': '2020-02-28T16:37:00.790Z', 'SignatureVersion': '1', 'Signature': 'flnN4Vf3pWqGqp1juhdfKZmujg7J3v8Wuhxw7z4+E4nbLS+SHw+DGzHV0sAraaZhHcDWPYHBT6w1Vx3Te47PFT5dqF9i2icDkKuqFMsOPsREmCdSFoe5LTw8bPsHC3vD/PAnVZlhtLUW89NAl1X+hM8WwxH+99JfXI95kyXAHks5WtubVL8UOwiUBZ+9+MJx/aITzv7HOz2VkKadZG+MxmF5IwV8A9GJ2sB2BcQXYulDTjGAFhLMJgdZ29KqyLav4CTewTcWP3S88s+9eE4m2ZZBCdCMrACuWabQRa1s0EJ8RC1BA9Xdgh8o4SqDRDOORlprgqYh/GaA0c7yo4UEbA==', 'SigningCertUrl': 'https://sns.us-east-1.amazonaws.com/SimpleNotificationService-a86cb10b4e1f29c941702d737128f7b6.pem', 'UnsubscribeUrl': 'https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:206799381603:handleLabelDetectionTopic:baebab87-7c59-4558-8346-bc5e1b197f91', 'MessageAttributes': {}}}]}'
event = '{'Records': [{'EventSource': 'aws:sns', 'EventVersion': '1.0', 'EventSubscriptionArn': 'arn:aws:sns:us-east-1:206799381603:handleLabelDetectionTopic:baebab87-7c59-4558-8346-bc5e1b197f91', 'Sns': {'Type': 'Notification', 'MessageId': 'c7a2f4c0-accd-5e71-a2ec-a213ef21ce0d', 'TopicArn': 'arn:aws:sns:us-east-1:206799381603:handleLabelDetectionTopic', 'Subject': None, 'Message': '{"JobId":"db096f420b19d2919dc08aa9aed2bc90f6951eb8f4422727732ad79bfc57610a","Status":"SUCCEEDED","API":"StartLabelDetection","Timestamp":1582907820733,"Video":{"S3ObjectName":"vanvideo.mp4","S3Bucket":"tomvideolyzervideos57"}}', 'Timestamp': '2020-02-28T16:37:00.790Z', 'SignatureVersion': '1', 'Signature': 'flnN4Vf3pWqGqp1juhdfKZmujg7J3v8Wuhxw7z4+E4nbLS+SHw+DGzHV0sAraaZhHcDWPYHBT6w1Vx3Te47PFT5dqF9i2icDkKuqFMsOPsREmCdSFoe5LTw8bPsHC3vD/PAnVZlhtLUW89NAl1X+hM8WwxH+99JfXI95kyXAHks5WtubVL8UOwiUBZ+9+MJx/aITzv7HOz2VkKadZG+MxmF5IwV8A9GJ2sB2BcQXYulDTjGAFhLMJgdZ29KqyLav4CTewTcWP3S88s+9eE4m2ZZBCdCMrACuWabQRa1s0EJ8RC1BA9Xdgh8o4SqDRDOORlprgqYh/GaA0c7yo4UEbA==', 'SigningCertUrl': 'https://sns.us-east-1.amazonaws.com/SimpleNotificationService-a86cb10b4e1f29c941702d737128f7b6.pem', 'UnsubscribeUrl': 'https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:206799381603:handle
LabelDetectionTopic:baebab87-7c59-4558-8346-bc5e1b197f91', 'MessageAttributes': {}}}]}
event = {'Records': [{'EventSource': 'aws:sns', 'EventVersion': '1.0', 'EventSubscriptionArn': 'arn:aws:sns:us-east-1:206799381603:handleLabelDetectionTopic:baebab87-7c59-4558-8346-bc5e1b197f91', 'Sns': {'Type': 'Notification', 'MessageId': 'c7a2f4c0-accd-5e71-a2ec-a213ef21ce0d', 'TopicArn': 'arn:aws:sns:us-east-1:206799381603:handleLabelDetectionTopic', 'Subject': None, 'Message': '{"JobId":"db096f420b19d2919dc08aa9aed2bc90f6951eb8f4422727732ad79bfc57610a","Status":"SUCCEEDED","API":"StartLabelDetection","Timestamp":1582907820733,"Video":{"S3ObjectName":"vanvideo.mp4","S3Bucket":"tomvideolyzervideos57"}}', 'Timestamp': '2020-02-28T16:37:00.790Z', 'SignatureVersion': '1', 'Signature': 'flnN4Vf3pWqGqp1juhdfKZmujg7J3v8Wuhxw7z4+E4nbLS+SHw+DGzHV0sAraaZhHcDWPYHBT6w1Vx3Te47PFT5dqF9i2icDkKuqFMsOPsREmCdSFoe5LTw8bPsHC3vD/PAnVZlhtLUW89NAl1X+hM8WwxH+99JfXI95kyXAHks5WtubVL8UOwiUBZ+9+MJx/aITzv7HOz2VkKadZG+MxmF5IwV8A9GJ2sB2BcQXYulDTjGAFhLMJgdZ29KqyLav4CTewTcWP3S88s+9eE4m2ZZBCdCMrACuWabQRa1s0EJ8RC1BA9Xdgh8o4SqDRDOORlprgqYh/GaA0c7yo4UEbA==', 'SigningCertUrl': 'https://sns.us-east-1.amazonaws.com/SimpleNotificationService-a86cb10b4e1f29c941702d737128f7b6.pem', 'UnsubscribeUrl': 'https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:206799381603:handleLabelDetectionTopic:baebab87-7c59-4558-8346-bc5e1b197f91', 'MessageAttributes': {}}}]}
event = '{'Records': [{'EventSource': 'aws:sns', 'EventVersion': '1.0', 'EventSubscriptionArn': 'arn:aws:sns:us-east-1:206799381603:handleLabelDetectionTopic:baebab87-7c59-4558-8346-bc5e1b197f91', 'Sns': {'Type': 'Notification', 'MessageId': 'c7a2f4c0-accd-5e71-a2ec-a213ef21ce0d', 'TopicArn': 'arn:aws:sns:us-east-1:206799381603:handleLabelDetectionTopic', 'Subject': None, 'Message': '{"JobId":"db096f420b19d2919dc08aa9aed2bc90f6951eb8f4422727732ad79bfc57610a","Status":"SUCCEEDED","API":"StartLabelDetection","Timestamp":1582907820733,"Video":{"S3ObjectName":"vanvideo.mp4","S3Bucket":"tomvideolyzervideos57"}}', 'Timestamp': '2020-02-28T16:37:00.790Z', 'SignatureVersion': '1', 'Signature': 'flnN4Vf3pWqGqp1juhdfKZmujg7J3v8Wuhxw7z4+E4nbLS+SHw+DGzHV0sAraaZhHcDWPYHBT6w1Vx3Te47PFT5dqF9i2icDkKuqFMsOPsREmCdSFoe5LTw8bPsHC3vD/PAnVZlhtLUW89NAl1X+hM8WwxH+99JfXI95kyXAHks5WtubVL8UOwiUBZ+9+MJx/aITzv7HOz2VkKadZG+MxmF5IwV8A9GJ2sB2BcQXYulDTjGAFhLMJgdZ29KqyLav4CTewTcWP3S88s+9eE4m2ZZBCdCMrACuWabQRa1s0EJ8RC1BA9Xdgh8o4SqDRDOORlprgqYh/GaA0c7yo4UEbA==', 'SigningCertUrl': 'https://sns.us-east-1.amazonaws.com/SimpleNotificationService-a86cb10b4e1f29c941702d737128f7b6.pem', 'UnsubscribeUrl': 'https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:206799381603:handle
LabelDetectionTopic:baebab87-7c59-4558-8346-bc5e1b197f91', 'MessageAttributes': {}}}]}
event
event['Records'][0].keys()
event['Records'][0].EventSource
event['Records'][0].[EventSource]
event['Records'][0][EventSource]
event['Records'][0]['EventSource']
event['Records'][0]['EventSubscriptionArn']
event['Records'][0]['Sns']
event['Records'][0]['Sns']['Message']
import json
json.loads(event['Records'][0]['Sns']['Message'])
json.loads(event['Records'][0]['Sns']['Message']['Jobid'])
event2 = json.loads(event['Records'][0]['Sns']['Message'])
event2
event2{'JobId']
event2['JobId']
(json.loads(event['Records'][0]['Sns']['Message'])['Jobid'])
json.loads(event['Records'][0]['Sns']['Message'])
json.loads(event['Records'][0]['Sns']['Message'])['API']
json.loads(event['Records'][0]['Sns']['Message'])['JobId']
